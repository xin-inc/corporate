---
import TagList from '../components/TagList.astro';

const { title, num, slug, tags } = Astro.props;
---


<div class="worksSet js_animeReveal06" data-key={slug}>
  <div class="linkArea md_linkPart">
    <div class="borderSection borderSection--top"></div>
    <div class="linkAreaWrap">
      <div class="linkAreaTop">
        <div class="label">
          CASE<span class="bold">{num}</span>
        </div>
        {
          tags.length > 0 && <TagList tags={tags} />
        }
      </div>
      <p class="title" set:html={title}></p>
      <div class="imgSection">
        <img src={`/imageFile/works_catch00${num}.svg`} alt={`case${num}`} class="worksCatchImg">
      </div>
    </div>
    <div class="borderSection borderSection--bottom">
      <div class="btnSide">
        <p class="md_btn md_btn--more">MORE</p>
      </div>
    </div>
  </div>
</div>


<script>
  import { currentWork, isWorksModalOpen } from '../store/index.js';

  function openWorkModal(key) {
    isWorksModalOpen.set(true);
    currentWork.set(key);
  }

  const units = document.querySelectorAll('.worksSet');
  units.forEach((unit) => {
    unit.addEventListener('click', () => {
      openWorkModal(unit.dataset.key);
      return false;
    });
  });
</script>