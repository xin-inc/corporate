---
import SwiperSlide from '../components/SwiperSlide.astro';
const { slides, isPagenation, isNavigationBtn } = Astro.props;

import '../styles/css/swiper.css';
---

<div class="swiper">
  <div class="swiper-wrapper">
    <!-- Slides -->
     { slides.map(slide => (
        <SwiperSlide image={slide.image} alt={slide.alt} />
      )
     )}
  </div>
  {isPagenation && <div class="swiper-pagination"></div>}

  {isNavigationBtn &&
    <div class="swiper-button swiper-button-prev"></div>
    <div class="swiper-button swiper-button-next"></div>
  }
</div>

<script>
  import Swiper from 'swiper'
  import { Navigation, Pagination } from 'swiper/modules'
  import 'swiper/css/bundle'

  export const swiperConfig = {
    modules: [Navigation, Pagination],
    // Optional parameters
    loop: true,

    // If we need pagination
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },

    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },

    slidesPerView: 3,
    spaceBetween: 0,
    centeredSlides: true,
    // 表示幅による分岐
    breakpoints: {
      320: {
        slidesPerView: 2,
        spaceBetween: 0,
      },
      1280: {
        slidesPerView: 3,
        spaceBetween: 0,
      },
      1800: {
        slidesPerView: 5,
        spaceBetween: 0,
      }
    },
    
  }

  const swiper = new Swiper('.swiper', swiperConfig)
</script>